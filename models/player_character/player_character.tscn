[gd_scene load_steps=13 format=3 uid="uid://ra6hg8r8ig2e"]

[ext_resource type="PackedScene" uid="uid://cbivrl5m5dxs3" path="res://models/player_character/player_character.glb" id="1_i8eih"]
[ext_resource type="Script" path="res://scripts/actor.gd" id="2_7oo3m"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_edx8f"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_kt1yf"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_e6ars"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_nvgxn"]
enabled_inputs = 2
xfade_time = 0.1
input_0/name = "movement_state"
input_0/auto_advance = false
input_1/name = "attack_state"
input_1/auto_advance = false

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_72xwm"]
animation = &"attack_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_03m34"]
animation = &"idle_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kp0r8"]
animation = &"run_forward_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dsjot"]
animation = &"idle_two_handed"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_4j6sr"]
blend_point_0/node = SubResource("AnimationNodeAnimation_03m34")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_kp0r8")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_dsjot")
blend_point_2/pos = Vector2(1, 0)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_1iw36"]
graph_offset = Vector2(-361.4, 339)
nodes/OneShot/node = SubResource("AnimationNodeOneShot_edx8f")
nodes/OneShot/position = Vector2(180, 200)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_e6ars")
nodes/TimeScale/position = Vector2(-60, 120)
"nodes/TimeScale 2/node" = SubResource("AnimationNodeTimeScale_kt1yf")
"nodes/TimeScale 2/position" = Vector2(-200, 340)
nodes/Transition/node = SubResource("AnimationNodeTransition_nvgxn")
nodes/Transition/position = Vector2(460, 400)
nodes/attack/node = SubResource("AnimationNodeAnimation_72xwm")
nodes/attack/position = Vector2(-500, 280)
nodes/output/position = Vector2(440, 160)
nodes/stance/node = SubResource("AnimationNodeBlendSpace2D_4j6sr")
nodes/stance/position = Vector2(-320, 60)
node_connections = [&"output", 0, &"OneShot", &"OneShot", 0, &"TimeScale", &"OneShot", 1, &"TimeScale 2", &"TimeScale", 0, &"stance", &"TimeScale 2", 0, &"attack"]

[node name="player_character" instance=ExtResource("1_i8eih")]
script = ExtResource("2_7oo3m")

[node name="GeneralSkeleton" parent="player_skeleton" index="0"]
bones/0/position = Vector3(-0.134778, 0.813824, -0.00461407)
bones/0/rotation = Quaternion(-0.182741, -0.296982, -0.057876, 0.935445)
bones/1/rotation = Quaternion(-0.0622266, -0.121023, -0.0624304, 0.988728)
bones/2/rotation = Quaternion(-5.02637e-05, -0.000439309, 2.73255e-05, 1)
bones/3/rotation = Quaternion(7.45058e-09, 1.42109e-14, -8.88178e-16, 1)
bones/4/rotation = Quaternion(-0.00039732, 0.0774138, 0.0350547, 0.996382)
bones/5/rotation = Quaternion(0.125044, 0.331012, 0.0898706, 0.930977)
bones/8/rotation = Quaternion(0.0460567, 0.970269, -0.231079, -0.0553167)
bones/9/rotation = Quaternion(0.112388, -0.494792, 0.0127772, 0.861619)
bones/10/rotation = Quaternion(0.000550107, 0.706947, 0.000212466, 0.707266)
bones/12/rotation = Quaternion(-0.0306569, -0.140323, -0.0222554, 0.989381)
bones/13/rotation = Quaternion(-0.0923909, -0.0594038, 0.0691474, 0.991541)
bones/14/rotation = Quaternion(-0.0852224, -0.056324, 0.0649052, 0.992649)
bones/15/rotation = Quaternion(0.0127271, -0.00582445, 0.00653506, 0.999881)
bones/16/rotation = Quaternion(0.00728879, -0.0116043, -0.00798413, 0.999874)
bones/17/rotation = Quaternion(0.162792, -0.163296, -0.153785, 0.960824)
bones/19/rotation = Quaternion(-0.0423483, -0.0272777, 0.0193999, 0.998542)
bones/20/rotation = Quaternion(-0.150869, -0.11057, 0.0832712, 0.978815)
bones/21/rotation = Quaternion(-0.183893, -0.144262, 0.115522, 0.965415)
bones/23/rotation = Quaternion(-0.0873517, -0.0367739, 0.0750051, 0.992669)
bones/24/rotation = Quaternion(-0.188727, -0.087686, 0.126541, 0.969887)
bones/25/rotation = Quaternion(-0.196069, -0.0466693, 0.0729514, 0.976758)
bones/27/rotation = Quaternion(-0.20561, -0.0477533, 0.105561, 0.971752)
bones/28/rotation = Quaternion(-0.242699, -0.0992484, 0.0934125, 0.96048)
bones/29/rotation = Quaternion(-0.39413, -0.159403, 0.154816, 0.891787)
bones/30/rotation = Quaternion(0.5, -0.5, -0.5, -0.5)
bones/31/rotation = Quaternion(0.177834, 0.964851, -0.0792224, -0.176525)
bones/32/rotation = Quaternion(0.161564, 0.498942, -0.0977229, 0.845816)
bones/33/rotation = Quaternion(-0.2576, -0.724107, -0.0528977, 0.637584)
bones/35/rotation = Quaternion(-0.293974, 0.43261, -0.335971, 0.783295)
bones/36/rotation = Quaternion(-0.24633, 0.301952, -0.177577, 0.903666)
bones/37/rotation = Quaternion(-0.292221, 0.462756, -0.356782, 0.75708)
bones/38/rotation = Quaternion(0.0182817, 0.267951, 0.0672438, 0.960909)
bones/39/rotation = Quaternion(0.0308573, 0.0521258, 0.0456226, 0.997121)
bones/40/rotation = Quaternion(0.314632, 0.518559, 0.456609, 0.650855)
bones/42/rotation = Quaternion(-0.482058, 0.393443, -0.348412, 0.701022)
bones/43/rotation = Quaternion(-0.402514, 0.32787, -0.291915, 0.803286)
bones/44/rotation = Quaternion(-0.501443, 0.332488, -0.365477, 0.710234)
bones/46/rotation = Quaternion(-0.552667, 0.333234, -0.284414, 0.708959)
bones/47/rotation = Quaternion(-0.307333, 0.187941, 0.00568768, 0.932841)
bones/48/rotation = Quaternion(-0.56089, 0.457742, -0.403399, 0.559593)
bones/50/rotation = Quaternion(-0.542928, 0.243142, -0.127931, 0.793565)
bones/51/rotation = Quaternion(-0.37912, 0.30941, -0.275378, 0.827466)
bones/52/rotation = Quaternion(-0.605708, 0.0866891, -0.316836, 0.724719)
bones/55/rotation = Quaternion(-0.0727481, -0.503523, 0.810298, 0.290844)
bones/56/rotation = Quaternion(-0.382445, 0.740076, 0.547159, 0.0814932)
bones/57/rotation = Quaternion(0.122601, 0.840809, -0.461423, 0.255142)
bones/58/rotation = Quaternion(-1.00486e-14, 1, 0, 1.00486e-14)
bones/59/rotation = Quaternion(0.257232, -0.0583439, 0.303173, 0.915704)
bones/60/rotation = Quaternion(0.882984, -0.131564, 0.0572578, 0.446935)
bones/61/rotation = Quaternion(-0.0347756, 0.896991, -0.41781, 0.140119)
bones/62/rotation = Quaternion(2.00972e-14, 1, 2.98023e-08, -2.00972e-14)
bones/63/position = Vector3(-0.333741, 0.125657, -0.289289)
bones/64/position = Vector3(0.195682, 0.125679, 0.54335)
bones/65/position = Vector3(-0.0360905, 1.18284, -0.894051)
bones/65/rotation = Quaternion(-0.230034, -0.329632, -0.100683, 0.910104)
bones/66/position = Vector3(0.475128, 1.08792, 0.28227)
bones/66/rotation = Quaternion(-0.230034, -0.329632, -0.100683, 0.910104)
bones/67/position = Vector3(-0.484848, 1.29633, -0.307728)
bones/67/rotation = Quaternion(-0.230034, -0.329632, -0.100683, 0.910104)
bones/68/position = Vector3(0.198008, 1.26874, 0.272628)
bones/68/rotation = Quaternion(-0.230034, -0.329632, -0.100683, 0.910104)
bones/69/position = Vector3(-0.20612, 0.682659, -0.750858)
bones/70/position = Vector3(0.526091, 0.682659, -0.133034)

[node name="weapon" type="BoneAttachment3D" parent="." index="1"]
transform = Transform3D(-0.853735, -0.417426, -0.311274, 0.287109, 0.121343, -0.950181, 0.434402, -0.900573, 0.0162518, 0.475397, 1.08547, 0.283903)
bone_name = "hand.R"
bone_idx = 33
use_external_skeleton = true
external_skeleton = NodePath("../player_skeleton/GeneralSkeleton")

[node name="AnimationPlayer" parent="." index="2"]
autoplay = "idle_one_handed"

[node name="AnimationTree" type="AnimationTree" parent="." index="3"]
tree_root = SubResource("AnimationNodeBlendTree_1iw36")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/OneShot/active = false
parameters/TimeScale/scale = 1.0
"parameters/TimeScale 2/scale" = 1.0
parameters/Transition/current = 0
parameters/stance/blend_position = Vector2(0.00552487, -0.00436676)
