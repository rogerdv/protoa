[gd_scene load_steps=12 format=3 uid="uid://ra6hg8r8ig2e"]

[ext_resource type="PackedScene" uid="uid://cjcpkch3bbue4" path="res://models/player_character/player_character.glb" id="1_i8eih"]
[ext_resource type="Script" path="res://scripts/actor.gd" id="2_7oo3m"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_72xwm"]
animation = &"attack_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_03m34"]
animation = &"idle_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kp0r8"]
animation = &"run_forward_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dsjot"]
animation = &"idle_two_handed"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_4j6sr"]
blend_point_0/node = SubResource("AnimationNodeAnimation_03m34")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_kp0r8")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_dsjot")
blend_point_2/pos = Vector2(1, 0)

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_kt1yf"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_e6ars"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_nvgxn"]
enabled_inputs = 2
xfade_time = 0.1
input_0/name = "movement_state"
input_0/auto_advance = false
input_1/name = "attack_state"
input_1/auto_advance = false

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_1iw36"]
graph_offset = Vector2(-611.561, 10.3111)
nodes/Animation/node = SubResource("AnimationNodeAnimation_72xwm")
nodes/Animation/position = Vector2(-500, 280)
nodes/BlendSpace2D/node = SubResource("AnimationNodeBlendSpace2D_4j6sr")
nodes/BlendSpace2D/position = Vector2(-320, 60)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_e6ars")
nodes/TimeScale/position = Vector2(-60, 120)
"nodes/TimeScale 2/node" = SubResource("AnimationNodeTimeScale_kt1yf")
"nodes/TimeScale 2/position" = Vector2(-200, 340)
nodes/Transition/node = SubResource("AnimationNodeTransition_nvgxn")
nodes/Transition/position = Vector2(200, 180)
nodes/output/position = Vector2(440, 160)
node_connections = [&"output", 0, &"Transition", &"TimeScale", 0, &"BlendSpace2D", &"Transition", 0, &"TimeScale", &"Transition", 1, &"TimeScale 2", &"TimeScale 2", 0, &"Animation"]

[node name="player_character" instance=ExtResource("1_i8eih")]
script = ExtResource("2_7oo3m")

[node name="Skeleton3D" parent="player_skeleton" index="0"]
bones/0/position = Vector3(-0.138687, 0.798893, -0.0152794)
bones/0/rotation = Quaternion(0.0952663, 0.904671, -0.29925, 0.288002)
bones/1/rotation = Quaternion(-0.0469718, -0.111372, 0.0795023, 0.989479)
bones/4/rotation = Quaternion(0.396057, 0.0592253, -0.0615984, 0.914241)
bones/5/rotation = Quaternion(-0.379022, 0.24571, -0.239801, 0.85934)
bones/8/rotation = Quaternion(0.0646654, 0.683709, -0.230254, 0.689452)
bones/9/rotation = Quaternion(0.593674, -0.173404, 0.0173076, 0.78561)
bones/10/rotation = Quaternion(0.00857877, 0.262234, -0.00186246, 0.964964)
bones/12/rotation = Quaternion(0.110276, -0.116772, -0.115018, 0.980293)
bones/13/rotation = Quaternion(0.256511, -0.0247373, -0.0252098, 0.965896)
bones/14/rotation = Quaternion(0.152321, -0.104556, -0.0066651, 0.982762)
bones/15/rotation = Quaternion(0.219406, 0.150171, 0.233418, 0.935321)
bones/16/rotation = Quaternion(-0.081745, -0.241855, 0.00631708, 0.966842)
bones/17/rotation = Quaternion(-0.0888306, -0.117648, -0.246222, 0.957937)
bones/19/rotation = Quaternion(0.161946, -0.301951, -0.0459521, 0.938343)
bones/20/rotation = Quaternion(0.172451, 0.378332, -0.113143, 0.902399)
bones/21/rotation = Quaternion(0.226428, 0.0716254, 0.0145643, 0.971282)
bones/23/rotation = Quaternion(0.132873, 0.48981, -0.0190189, 0.861435)
bones/24/rotation = Quaternion(0.326063, -0.103137, 0.0890369, 0.935477)
bones/25/rotation = Quaternion(0.139918, 0.11226, 0.0884067, 0.979798)
bones/27/rotation = Quaternion(0.267824, 0.411327, -0.027727, 0.870811)
bones/28/rotation = Quaternion(0.34876, -0.0755643, 0.0327683, 0.933586)
bones/29/rotation = Quaternion(0.419836, 0.11044, 0.0263228, 0.900471)
bones/30/rotation = Quaternion(0.615988, -0.39358, -0.469234, -0.495452)
bones/31/rotation = Quaternion(-0.237049, -0.752649, 0.075491, 0.609614)
bones/32/rotation = Quaternion(0.62897, 0.112393, 0.0367945, 0.768382)
bones/33/rotation = Quaternion(-0.0563357, -0.000373925, 0.0410272, 0.997569)
bones/35/rotation = Quaternion(0.636641, 0.0552114, 0.107141, 0.761683)
bones/36/rotation = Quaternion(0.51459, 0.0548587, 0.165418, 0.839538)
bones/37/rotation = Quaternion(0.628544, 0.0576191, 0.254328, 0.732755)
bones/38/rotation = Quaternion(0.371348, -0.110065, -0.00600724, 0.921928)
bones/39/rotation = Quaternion(-0.0863581, 0.249104, 0.05303, 0.96316)
bones/40/rotation = Quaternion(-0.31186, 0.158528, 0.681993, 0.64226)
bones/42/rotation = Quaternion(0.698746, 0.164523, 0.366707, 0.591788)
bones/43/rotation = Quaternion(0.537043, -0.333506, 0.260946, 0.729566)
bones/44/rotation = Quaternion(0.670271, -0.0769866, -0.118451, 0.728546)
bones/46/rotation = Quaternion(0.694616, -0.378958, 0.185278, 0.582728)
bones/47/rotation = Quaternion(0.430773, 0.230315, 0.0229295, 0.872275)
bones/48/rotation = Quaternion(0.78277, -0.230476, -0.0411964, 0.57659)
bones/50/rotation = Quaternion(0.598258, -0.300589, 0.222278, 0.70875)
bones/51/rotation = Quaternion(0.588648, -0.105223, 0.0489137, 0.800018)
bones/52/rotation = Quaternion(0.630685, -0.136924, -0.209015, 0.734711)
bones/55/rotation = Quaternion(0.703841, 0.349221, 0.00155302, 0.618588)
bones/56/rotation = Quaternion(0.606226, -0.00506407, 0.405893, 0.683898)
bones/57/rotation = Quaternion(-0.690193, -0.236153, -0.168375, 0.66296)
bones/58/rotation = Quaternion(6.58008e-08, 0.967288, -0.25368, 7.64887e-07)
bones/59/rotation = Quaternion(0.843053, -0.365999, 0.120463, 0.375226)
bones/60/rotation = Quaternion(0.507236, -0.00183946, -0.153905, 0.847951)
bones/61/rotation = Quaternion(-0.762756, 0.0247217, -0.181694, 0.620145)
bones/62/rotation = Quaternion(-1.14106e-07, 0.967288, -0.25368, -7.64887e-07)
bones/63/position = Vector3(-0.333712, 0.125679, -0.289515)
bones/64/position = Vector3(0.195285, 0.125679, 0.54334)
bones/65/position = Vector3(-0.0380674, 1.15759, -0.906798)
bones/65/rotation = Quaternion(-0.420526, 0.628802, -0.145933, 0.637549)
bones/66/position = Vector3(0.472589, 1.06126, 0.274865)
bones/66/rotation = Quaternion(0.433712, 0.878823, 0.18176, -0.0807864)
bones/67/position = Vector3(-0.487148, 1.26987, -0.321036)
bones/67/rotation = Quaternion(-0.275396, 0.864638, -0.32638, 0.264639)
bones/68/position = Vector3(0.194986, 1.24221, 0.26169)
bones/68/rotation = Quaternion(0.447837, 0.820424, -0.0610903, 0.350164)
bones/69/position = Vector3(-0.206255, 0.682659, -0.75179)
bones/70/position = Vector3(0.527092, 0.682659, -0.133191)

[node name="weapon" type="BoneAttachment3D" parent="." index="1"]
transform = Transform3D(-0.832544, -0.470861, -0.291824, 0.290951, 0.0766112, -0.953666, 0.471401, -0.878875, 0.0732154, 0.485382, 1.16626, 0.316353)
bone_name = "hand.R"
bone_idx = 33
use_external_skeleton = true
external_skeleton = NodePath("../player_skeleton/GeneralSkeleton")

[node name="AnimationPlayer" parent="." index="2"]
autoplay = "idle_one_handed"

[node name="AnimationTree" type="AnimationTree" parent="." index="3"]
tree_root = SubResource("AnimationNodeBlendTree_1iw36")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/BlendSpace2D/blend_position = Vector2(-0.00167227, -0.00303948)
parameters/TimeScale/scale = 1.0
"parameters/TimeScale 2/scale" = 1.0
parameters/Transition/current = 0
