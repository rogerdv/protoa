[gd_scene load_steps=14 format=3 uid="uid://ra6hg8r8ig2e"]

[ext_resource type="PackedScene" uid="uid://cbivrl5m5dxs3" path="res://models/player_character/player_character.glb" id="1_i8eih"]
[ext_resource type="Script" path="res://scripts/actor.gd" id="2_7oo3m"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_edx8f"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_kt1yf"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_e6ars"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_nvgxn"]
enabled_inputs = 2
xfade_time = 0.1
input_0/name = "movement_state"
input_0/auto_advance = false
input_1/name = "attack_state"
input_1/auto_advance = false

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_72xwm"]
animation = &"attack_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_03m34"]
animation = &"idle_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kp0r8"]
animation = &"run_forward_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dsjot"]
animation = &"idle_two_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_74oac"]
animation = &"idle_stand"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_4j6sr"]
blend_point_0/node = SubResource("AnimationNodeAnimation_03m34")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_kp0r8")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_dsjot")
blend_point_2/pos = Vector2(1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_74oac")
blend_point_3/pos = Vector2(0, -1)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_1iw36"]
graph_offset = Vector2(-647.8, 113.08)
nodes/OneShot/node = SubResource("AnimationNodeOneShot_edx8f")
nodes/OneShot/position = Vector2(180, 200)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_e6ars")
nodes/TimeScale/position = Vector2(-60, 120)
"nodes/TimeScale 2/node" = SubResource("AnimationNodeTimeScale_kt1yf")
"nodes/TimeScale 2/position" = Vector2(-200, 340)
nodes/Transition/node = SubResource("AnimationNodeTransition_nvgxn")
nodes/Transition/position = Vector2(460, 400)
nodes/attack/node = SubResource("AnimationNodeAnimation_72xwm")
nodes/attack/position = Vector2(-500, 280)
nodes/output/position = Vector2(440, 160)
nodes/stance/node = SubResource("AnimationNodeBlendSpace2D_4j6sr")
nodes/stance/position = Vector2(-320, 60)
node_connections = [&"output", 0, &"OneShot", &"OneShot", 0, &"TimeScale", &"OneShot", 1, &"TimeScale 2", &"TimeScale", 0, &"stance", &"TimeScale 2", 0, &"attack"]

[node name="player_character" instance=ExtResource("1_i8eih")]
script = ExtResource("2_7oo3m")

[node name="GeneralSkeleton" parent="player_skeleton" index="0"]
bones/0/position = Vector3(-0.0135616, 1.10345, 0.1103)
bones/0/rotation = Quaternion(0.00994112, -0.0651602, 0.0544904, 0.996336)
bones/1/rotation = Quaternion(-0.055438, -0.0248971, -0.0519804, 0.996797)
bones/2/rotation = Quaternion(-0.00310074, -2.34392e-05, 0.000560417, 0.999995)
bones/3/rotation = Quaternion(0, -3.55271e-15, 0, 1)
bones/4/rotation = Quaternion(-0.00914959, -0.116879, 0.000840409, 0.993104)
bones/5/rotation = Quaternion(0.128692, 0.194412, -0.0357359, 0.971785)
bones/6/rotation = Quaternion(-0.10602, -0.00281073, 0.00312187, 0.994355)
bones/8/rotation = Quaternion(-0.012574, 0.974002, 0.113037, 0.195922)
bones/9/rotation = Quaternion(0.00247804, -0.745192, 0.0940811, 0.660176)
bones/10/rotation = Quaternion(1.48189e-08, 0.707107, 5.69657e-08, 0.707107)
bones/12/rotation = Quaternion(-0.0295281, -0.139131, -0.0241896, 0.989538)
bones/13/rotation = Quaternion(-0.0907831, -0.0586366, 0.0675371, 0.991846)
bones/14/rotation = Quaternion(-0.0838141, -0.0541354, 0.0623528, 0.993054)
bones/15/rotation = Quaternion(0.0118952, -0.00481683, 0.00601905, 0.9999)
bones/16/rotation = Quaternion(0.00757074, -0.0107951, -0.00793165, 0.999882)
bones/17/rotation = Quaternion(0.162671, -0.160824, -0.151673, 0.961597)
bones/19/rotation = Quaternion(-0.0402261, -0.0258771, 0.0177756, 0.998697)
bones/20/rotation = Quaternion(-0.149266, -0.109645, 0.0819992, 0.979272)
bones/21/rotation = Quaternion(-0.181469, -0.142872, 0.113764, 0.966289)
bones/23/rotation = Quaternion(-0.0850649, -0.0354445, 0.0739649, 0.992994)
bones/24/rotation = Quaternion(-0.187801, -0.0868432, 0.125674, 0.970255)
bones/25/rotation = Quaternion(-0.193634, -0.0452665, 0.0712, 0.977439)
bones/27/rotation = Quaternion(-0.204345, -0.0470206, 0.105489, 0.972062)
bones/28/rotation = Quaternion(-0.241719, -0.0972691, 0.0940119, 0.960871)
bones/29/rotation = Quaternion(-0.39329, -0.158262, 0.152963, 0.89268)
bones/31/rotation = Quaternion(0.175231, 0.935423, 0.232696, -0.200324)
bones/32/rotation = Quaternion(0.0518859, 0.648074, -0.0331966, 0.759083)
bones/33/rotation = Quaternion(-0.259508, -0.723919, -0.0532755, 0.636992)
bones/35/rotation = Quaternion(-0.293831, 0.432986, -0.336172, 0.783055)
bones/36/rotation = Quaternion(-0.245719, 0.302412, -0.176881, 0.903816)
bones/37/rotation = Quaternion(-0.291181, 0.463317, -0.35685, 0.757106)
bones/38/rotation = Quaternion(0.0175919, 0.268579, 0.0678106, 0.960707)
bones/39/rotation = Quaternion(0.0312206, 0.0514534, 0.0452097, 0.997163)
bones/40/rotation = Quaternion(0.314979, 0.519103, 0.456111, 0.650603)
bones/42/rotation = Quaternion(-0.482531, 0.393743, -0.349288, 0.700092)
bones/43/rotation = Quaternion(-0.402401, 0.328358, -0.291285, 0.803373)
bones/44/rotation = Quaternion(-0.500507, 0.333211, -0.365432, 0.710579)
bones/46/rotation = Quaternion(-0.552868, 0.333334, -0.285191, 0.708443)
bones/47/rotation = Quaternion(-0.307085, 0.188259, 0.00757602, 0.932845)
bones/48/rotation = Quaternion(-0.560579, 0.45743, -0.405784, 0.558434)
bones/50/rotation = Quaternion(-0.542926, 0.24307, -0.129236, 0.793377)
bones/51/rotation = Quaternion(-0.37966, 0.309801, -0.274823, 0.827257)
bones/52/rotation = Quaternion(-0.606001, 0.0851977, -0.317547, 0.724339)
bones/55/rotation = Quaternion(0.00102906, -0.155022, 0.984495, 0.0820758)
bones/56/rotation = Quaternion(-0.0242609, 0.974296, 0.222669, 0.0240295)
bones/57/rotation = Quaternion(0.12033, 0.724384, -0.667574, 0.12302)
bones/58/rotation = Quaternion(-4.01944e-14, 1, 0, -4.01944e-14)
bones/59/rotation = Quaternion(-0.00652451, 0.00440371, -0.0199792, 0.99977)
bones/60/rotation = Quaternion(0.995606, -0.0154536, 0.0107417, 0.091731)
bones/61/rotation = Quaternion(-0.0404633, 0.764738, -0.642906, 0.0144999)
bones/62/rotation = Quaternion(-1.00486e-14, 1, 2.98023e-08, -5.0243e-14)
bones/63/position = Vector3(-0.264173, 0.125679, -0.0468786)
bones/64/position = Vector3(0.2591, 0.125679, 0.217501)
bones/65/position = Vector3(-0.44511, 1.18842, -0.0256305)
bones/65/rotation = Quaternion(-0.231229, -0.331313, -0.101217, 0.909132)
bones/66/position = Vector3(0.366419, 1.21297, 0.166955)
bones/66/rotation = Quaternion(-0.231229, -0.331313, -0.101217, 0.909132)
bones/67/position = Vector3(-0.474354, 1.50144, -0.279705)
bones/67/rotation = Quaternion(-0.231229, -0.331313, -0.101217, 0.909132)
bones/68/position = Vector3(0.207779, 1.47378, 0.303021)
bones/68/rotation = Quaternion(-0.231229, -0.331313, -0.101217, 0.909132)
bones/69/position = Vector3(-0.206255, 0.682659, -0.75179)
bones/70/position = Vector3(0.258656, 0.682659, -0.133191)

[node name="weapon" type="BoneAttachment3D" parent="." index="1"]
transform = Transform3D(-0.624561, -0.376169, -0.684412, 0.401446, 0.597076, -0.694508, 0.669899, -0.708517, -0.221899, 0.367961, 1.21233, 0.166142)
bone_name = "hand.R"
bone_idx = 33
use_external_skeleton = true
external_skeleton = NodePath("../player_skeleton/GeneralSkeleton")

[node name="AnimationPlayer" parent="." index="2"]
autoplay = "idle_one_handed"

[node name="AnimationTree" type="AnimationTree" parent="." index="3"]
tree_root = SubResource("AnimationNodeBlendTree_1iw36")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/OneShot/active = false
parameters/TimeScale/scale = 1.0
"parameters/TimeScale 2/scale" = 1.0
parameters/Transition/current = 0
parameters/stance/blend_position = Vector2(-0.00177938, -0.991266)
