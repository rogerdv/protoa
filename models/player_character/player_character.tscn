[gd_scene load_steps=13 format=3 uid="uid://ra6hg8r8ig2e"]

[ext_resource type="PackedScene" uid="uid://cbivrl5m5dxs3" path="res://models/player_character/player_character.glb" id="1_i8eih"]
[ext_resource type="Script" path="res://scripts/actor.gd" id="2_7oo3m"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_edx8f"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_kt1yf"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_e6ars"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_nvgxn"]
enabled_inputs = 2
xfade_time = 0.1
input_0/name = "movement_state"
input_0/auto_advance = false
input_1/name = "attack_state"
input_1/auto_advance = false

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_72xwm"]
animation = &"attack_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_03m34"]
animation = &"idle_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kp0r8"]
animation = &"run_forward_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dsjot"]
animation = &"idle_two_handed"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_4j6sr"]
blend_point_0/node = SubResource("AnimationNodeAnimation_03m34")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_kp0r8")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_dsjot")
blend_point_2/pos = Vector2(1, 0)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_1iw36"]
graph_offset = Vector2(-542.812, -12.5507)
nodes/OneShot/node = SubResource("AnimationNodeOneShot_edx8f")
nodes/OneShot/position = Vector2(180, 200)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_e6ars")
nodes/TimeScale/position = Vector2(-60, 120)
"nodes/TimeScale 2/node" = SubResource("AnimationNodeTimeScale_kt1yf")
"nodes/TimeScale 2/position" = Vector2(-200, 340)
nodes/Transition/node = SubResource("AnimationNodeTransition_nvgxn")
nodes/Transition/position = Vector2(460, 400)
nodes/attack/node = SubResource("AnimationNodeAnimation_72xwm")
nodes/attack/position = Vector2(-500, 280)
nodes/output/position = Vector2(440, 160)
nodes/stance/node = SubResource("AnimationNodeBlendSpace2D_4j6sr")
nodes/stance/position = Vector2(-320, 60)
node_connections = [&"output", 0, &"OneShot", &"TimeScale", 0, &"stance", &"TimeScale 2", 0, &"attack", &"OneShot", 0, &"TimeScale", &"OneShot", 1, &"TimeScale 2"]

[node name="player_character" instance=ExtResource("1_i8eih")]
script = ExtResource("2_7oo3m")

[node name="Skeleton3D" parent="player_skeleton" index="0"]
bones/0/position = Vector3(-0.133256, 0.820887, 0.00033493)
bones/0/rotation = Quaternion(0.0947826, 0.905017, -0.298986, 0.287346)
bones/1/rotation = Quaternion(-0.0468158, -0.110955, 0.0789497, 0.989578)
bones/2/rotation = Quaternion(-0.106349, -0.000436053, -5.99829e-05, 0.994329)
bones/4/rotation = Quaternion(0.396071, 0.0588988, -0.0612589, 0.914279)
bones/5/rotation = Quaternion(-0.378625, 0.245764, -0.239261, 0.85965)
bones/8/rotation = Quaternion(0.0713788, 0.694461, -0.207635, 0.685212)
bones/9/rotation = Quaternion(0.60802, -0.176285, 0.0223098, 0.773781)
bones/10/rotation = Quaternion(0.00878373, 0.262757, -0.00211125, 0.96482)
bones/12/rotation = Quaternion(0.112764, -0.11642, -0.114691, 0.98009)
bones/13/rotation = Quaternion(0.258818, -0.0250036, -0.0249105, 0.965281)
bones/14/rotation = Quaternion(0.155772, -0.103965, -0.00764319, 0.982277)
bones/15/rotation = Quaternion(0.220203, 0.151113, 0.232769, 0.935144)
bones/16/rotation = Quaternion(-0.0812177, -0.242356, 0.00586662, 0.966764)
bones/17/rotation = Quaternion(-0.0900405, -0.118953, -0.248885, 0.956974)
bones/19/rotation = Quaternion(0.164668, -0.301751, -0.0471606, 0.937873)
bones/20/rotation = Quaternion(0.174635, 0.378201, -0.11367, 0.901968)
bones/21/rotation = Quaternion(0.229669, 0.0716199, 0.0153095, 0.970509)
bones/23/rotation = Quaternion(0.135611, 0.489731, -0.0197394, 0.861036)
bones/24/rotation = Quaternion(0.327459, -0.102576, 0.089108, 0.935045)
bones/25/rotation = Quaternion(0.143181, 0.112635, 0.0889759, 0.979232)
bones/27/rotation = Quaternion(0.269064, 0.411046, -0.0284647, 0.870538)
bones/28/rotation = Quaternion(0.350184, -0.0758434, 0.0310251, 0.93309)
bones/29/rotation = Quaternion(0.421574, 0.111931, 0.0262137, 0.899478)
bones/30/rotation = Quaternion(0.615988, -0.39358, -0.469234, -0.495452)
bones/31/rotation = Quaternion(-0.23757, -0.754963, 0.0548126, 0.608759)
bones/32/rotation = Quaternion(0.645241, 0.109972, 0.0443844, 0.754719)
bones/33/rotation = Quaternion(-0.0557264, -0.00229006, 0.0406764, 0.997615)
bones/35/rotation = Quaternion(0.636395, 0.0555574, 0.106948, 0.761891)
bones/36/rotation = Quaternion(0.515188, 0.0550098, 0.164602, 0.839322)
bones/37/rotation = Quaternion(0.628908, 0.058438, 0.25356, 0.732644)
bones/38/rotation = Quaternion(0.371012, -0.110972, -0.00655151, 0.92195)
bones/39/rotation = Quaternion(-0.0861725, 0.249767, 0.0535293, 0.962977)
bones/40/rotation = Quaternion(-0.312363, 0.158905, 0.681463, 0.642485)
bones/42/rotation = Quaternion(0.697894, 0.165171, 0.366602, 0.592676)
bones/43/rotation = Quaternion(0.537439, -0.333749, 0.260306, 0.729392)
bones/44/rotation = Quaternion(0.670503, -0.076226, -0.11935, 0.728266)
bones/46/rotation = Quaternion(0.694062, -0.378755, 0.185568, 0.583427)
bones/47/rotation = Quaternion(0.43136, 0.229028, 0.0216175, 0.872357)
bones/48/rotation = Quaternion(0.782297, -0.22867, -0.0399137, 0.578038)
bones/50/rotation = Quaternion(0.597762, -0.299704, 0.222867, 0.709358)
bones/51/rotation = Quaternion(0.588188, -0.105778, 0.0484774, 0.80031)
bones/52/rotation = Quaternion(0.630789, -0.136815, -0.207349, 0.735115)
bones/55/rotation = Quaternion(0.711208, 0.345213, 0.00130909, 0.61238)
bones/56/rotation = Quaternion(0.588522, -0.00379188, 0.391759, 0.707215)
bones/57/rotation = Quaternion(-0.681517, -0.236255, -0.162473, 0.673291)
bones/58/rotation = Quaternion(6.58008e-08, 0.967288, -0.25368, 7.64887e-07)
bones/59/rotation = Quaternion(0.85058, -0.34741, 0.111744, 0.378594)
bones/60/rotation = Quaternion(0.499066, -0.00241456, -0.143667, 0.854568)
bones/61/rotation = Quaternion(-0.759225, 0.022752, -0.174068, 0.626706)
bones/62/rotation = Quaternion(-1.14106e-07, 0.967288, -0.25368, -7.64887e-07)
bones/63/position = Vector3(-0.333741, 0.125657, -0.289289)
bones/64/position = Vector3(0.195682, 0.125679, 0.54335)
bones/65/position = Vector3(-0.0345618, 1.19533, -0.889104)
bones/65/rotation = Quaternion(-0.420337, 0.629919, -0.143959, 0.63702)
bones/66/position = Vector3(0.476654, 1.10041, 0.287224)
bones/66/rotation = Quaternion(0.433421, 0.878692, 0.182054, -0.0830827)
bones/67/position = Vector3(-0.483327, 1.30882, -0.302786)
bones/67/rotation = Quaternion(-0.276167, 0.865387, -0.324587, 0.263592)
bones/68/position = Vector3(0.199526, 1.28122, 0.277578)
bones/68/rotation = Quaternion(0.447692, 0.821414, -0.0606417, 0.348101)
bones/69/position = Vector3(-0.20612, 0.682659, -0.750858)
bones/70/position = Vector3(0.526091, 0.682659, -0.133034)

[node name="weapon" type="BoneAttachment3D" parent="." index="1"]
transform = Transform3D(-0.835374, -0.462082, -0.297709, 0.290474, 0.0887086, -0.952762, 0.466664, -0.88239, 0.0601182, 0.483669, 1.15294, 0.310784)
bone_name = "hand.R"
bone_idx = 33
use_external_skeleton = true
external_skeleton = NodePath("../player_skeleton/GeneralSkeleton")

[node name="AnimationPlayer" parent="." index="2"]
autoplay = "idle_one_handed"

[node name="AnimationTree" type="AnimationTree" parent="." index="3"]
tree_root = SubResource("AnimationNodeBlendTree_1iw36")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/OneShot/active = false
parameters/TimeScale/scale = 1.0
"parameters/TimeScale 2/scale" = 1.0
parameters/Transition/current = 0
parameters/stance/blend_position = Vector2(0.00552487, -0.00436676)
