[gd_scene load_steps=14 format=3 uid="uid://ra6hg8r8ig2e"]

[ext_resource type="PackedScene" uid="uid://cbivrl5m5dxs3" path="res://models/player_character/player_character.glb" id="1_i8eih"]
[ext_resource type="Script" path="res://scripts/actor.gd" id="2_7oo3m"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_edx8f"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_kt1yf"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_e6ars"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_nvgxn"]
enabled_inputs = 2
xfade_time = 0.1
input_0/name = "movement_state"
input_0/auto_advance = false
input_1/name = "attack_state"
input_1/auto_advance = false

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_72xwm"]
animation = &"attack_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_03m34"]
animation = &"idle_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kp0r8"]
animation = &"run_forward_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dsjot"]
animation = &"idle_two_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_74oac"]
animation = &"idle_stand"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_4j6sr"]
blend_point_0/node = SubResource("AnimationNodeAnimation_03m34")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_kp0r8")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_dsjot")
blend_point_2/pos = Vector2(1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_74oac")
blend_point_3/pos = Vector2(0, -1)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_1iw36"]
graph_offset = Vector2(-100.153, -42.2176)
nodes/OneShot/node = SubResource("AnimationNodeOneShot_edx8f")
nodes/OneShot/position = Vector2(180, 200)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_e6ars")
nodes/TimeScale/position = Vector2(-60, 120)
"nodes/TimeScale 2/node" = SubResource("AnimationNodeTimeScale_kt1yf")
"nodes/TimeScale 2/position" = Vector2(-200, 340)
nodes/Transition/node = SubResource("AnimationNodeTransition_nvgxn")
nodes/Transition/position = Vector2(460, 400)
nodes/attack/node = SubResource("AnimationNodeAnimation_72xwm")
nodes/attack/position = Vector2(-500, 280)
nodes/output/position = Vector2(440, 160)
nodes/stance/node = SubResource("AnimationNodeBlendSpace2D_4j6sr")
nodes/stance/position = Vector2(-320, 60)
node_connections = [&"output", 0, &"OneShot", &"OneShot", 0, &"TimeScale", &"OneShot", 1, &"TimeScale 2", &"TimeScale", 0, &"stance", &"TimeScale 2", 0, &"attack"]

[node name="player_character" instance=ExtResource("1_i8eih")]
script = ExtResource("2_7oo3m")

[node name="GeneralSkeleton" parent="player_skeleton" index="0"]
bones/0/position = Vector3(-0.121702, 0.948096, 0.0059944)
bones/0/rotation = Quaternion(-0.181635, -0.288505, -0.0575772, 0.938327)
bones/1/rotation = Quaternion(-0.0614542, -0.118459, -0.0611177, 0.989169)
bones/2/rotation = Quaternion(0.000236979, -0.00144243, -0.00108253, 0.999998)
bones/3/rotation = Quaternion(0, -3.55271e-15, 0, 1)
bones/4/rotation = Quaternion(0.000688446, 0.0752919, 0.033996, 0.996582)
bones/5/rotation = Quaternion(0.12399, 0.324004, 0.0880433, 0.933754)
bones/6/rotation = Quaternion(-7.45058e-09, 2.87548e-14, -4.44089e-16, 1)
bones/8/rotation = Quaternion(0.0325282, 0.96387, -0.263975, -0.0146119)
bones/9/rotation = Quaternion(0.134871, -0.458265, 0.0229401, 0.878224)
bones/10/rotation = Quaternion(0.000365411, 0.707001, 0.000141156, 0.707213)
bones/12/rotation = Quaternion(-0.0326658, -0.139238, -0.0200891, 0.989516)
bones/13/rotation = Quaternion(-0.0917388, -0.0595712, 0.068927, 0.991607)
bones/14/rotation = Quaternion(-0.0848082, -0.055768, 0.0644218, 0.992747)
bones/15/rotation = Quaternion(0.0127001, -0.00716927, 0.00583214, 0.999877)
bones/16/rotation = Quaternion(0.00746484, -0.0116903, -0.00799015, 0.999872)
bones/17/rotation = Quaternion(0.15993, -0.163014, -0.151102, 0.961778)
bones/19/rotation = Quaternion(-0.0434234, -0.0276541, 0.0208047, 0.998457)
bones/20/rotation = Quaternion(-0.149028, -0.109572, 0.0831841, 0.979217)
bones/21/rotation = Quaternion(-0.180757, -0.142074, 0.114246, 0.966483)
bones/23/rotation = Quaternion(-0.0905273, -0.0381132, 0.0776974, 0.992127)
bones/24/rotation = Quaternion(-0.185728, -0.0865854, 0.124722, 0.9708)
bones/25/rotation = Quaternion(-0.193371, -0.046977, 0.0733389, 0.977252)
bones/27/rotation = Quaternion(-0.203695, -0.0472651, 0.105155, 0.972223)
bones/28/rotation = Quaternion(-0.238441, -0.0973884, 0.0932465, 0.961752)
bones/29/rotation = Quaternion(-0.387196, -0.156613, 0.153331, 0.895568)
bones/31/rotation = Quaternion(0.204304, 0.95176, -0.0980865, -0.206862)
bones/32/rotation = Quaternion(0.188306, 0.461826, -0.118777, 0.858574)
bones/33/rotation = Quaternion(-0.253079, -0.723858, -0.0506718, 0.639854)
bones/35/rotation = Quaternion(-0.299126, 0.433395, -0.33758, 0.780213)
bones/36/rotation = Quaternion(-0.246619, 0.297553, -0.179055, 0.904754)
bones/37/rotation = Quaternion(-0.299623, 0.462212, -0.352431, 0.756557)
bones/38/rotation = Quaternion(0.0174159, 0.265398, 0.0654236, 0.961759)
bones/39/rotation = Quaternion(0.0318419, 0.0526778, 0.0451349, 0.997083)
bones/40/rotation = Quaternion(0.313594, 0.523129, 0.449668, 0.652529)
bones/42/rotation = Quaternion(-0.485751, 0.393158, -0.348372, 0.698648)
bones/43/rotation = Quaternion(-0.402639, 0.325889, -0.290204, 0.804649)
bones/44/rotation = Quaternion(-0.503551, 0.33397, -0.366241, 0.70765)
bones/46/rotation = Quaternion(-0.555656, 0.334171, -0.283524, 0.706534)
bones/47/rotation = Quaternion(-0.309426, 0.186456, -0.000590326, 0.932464)
bones/48/rotation = Quaternion(-0.563696, 0.455266, -0.39835, 0.562403)
bones/50/rotation = Quaternion(-0.545358, 0.240528, -0.127185, 0.792815)
bones/51/rotation = Quaternion(-0.376782, 0.314481, -0.266703, 0.829461)
bones/52/rotation = Quaternion(-0.603316, 0.0914092, -0.32551, 0.722287)
bones/55/rotation = Quaternion(-0.079747, -0.451438, 0.863394, 0.210702)
bones/56/rotation = Quaternion(-0.321512, 0.84314, 0.427157, 0.0572918)
bones/57/rotation = Quaternion(0.135148, 0.806429, -0.529041, 0.226986)
bones/58/rotation = Quaternion(-2.77739e-05, 1, -0.0009235, 9.36832e-05)
bones/59/rotation = Quaternion(0.297667, 0.0137057, 0.14055, 0.944167)
bones/60/rotation = Quaternion(0.905263, -0.0318614, 0.0484065, 0.420881)
bones/61/rotation = Quaternion(0.0108767, 0.870855, -0.481348, 0.0989832)
bones/62/rotation = Quaternion(3.25157e-11, 1, 2.71514e-08, -1.0151e-10)
bones/63/position = Vector3(-0.260428, 0.134407, -0.272781)
bones/64/position = Vector3(0.153321, 0.12565, 0.391378)
bones/65/position = Vector3(-0.0314765, 1.35241, -0.868627)
bones/65/rotation = Quaternion(-0.227871, -0.320514, -0.099407, 0.914037)
bones/66/position = Vector3(0.480797, 1.25479, 0.282408)
bones/66/rotation = Quaternion(-0.227871, -0.320514, -0.0994068, 0.914037)
bones/67/position = Vector3(-0.474202, 1.46048, -0.293783)
bones/67/rotation = Quaternion(-0.227871, -0.320514, -0.099407, 0.914037)
bones/68/position = Vector3(0.211407, 1.43457, 0.274236)
bones/68/rotation = Quaternion(-0.227871, -0.320514, -0.099407, 0.914037)
bones/69/position = Vector3(-0.201778, 0.682659, -0.746545)
bones/70/position = Vector3(0.263813, 0.682659, -0.139756)

[node name="weapon" type="BoneAttachment3D" parent="." index="1"]
transform = Transform3D(-0.819827, -0.487196, -0.300872, 0.292617, 0.0951936, -0.95148, 0.492198, -0.868089, 0.0645193, 0.486323, 1.24795, 0.281552)
bone_name = "hand.R"
bone_idx = 33
use_external_skeleton = true
external_skeleton = NodePath("../player_skeleton/GeneralSkeleton")

[node name="head" type="BoneAttachment3D" parent="." index="2"]
transform = Transform3D(0.995976, 0.0895978, -0.00216436, -0.0873916, 0.97624, 0.198288, 0.0198791, -0.197301, 0.980141, 0.170946, 1.61897, -0.283926)
bone_name = "Head"
bone_idx = 5
use_external_skeleton = true
external_skeleton = NodePath("../player_skeleton/GeneralSkeleton")

[node name="AnimationPlayer" parent="." index="3"]
autoplay = "idle_one_handed"

[node name="AnimationTree" type="AnimationTree" parent="." index="4"]
tree_root = SubResource("AnimationNodeBlendTree_1iw36")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/OneShot/active = false
parameters/TimeScale/scale = 1.0
"parameters/TimeScale 2/scale" = 1.0
parameters/Transition/current = 0
parameters/stance/blend_position = Vector2(0.00366974, 0.0296496)
