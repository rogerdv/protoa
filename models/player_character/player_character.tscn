[gd_scene load_steps=14 format=3 uid="uid://ra6hg8r8ig2e"]

[ext_resource type="PackedScene" uid="uid://cbivrl5m5dxs3" path="res://models/player_character/player_character.glb" id="1_i8eih"]
[ext_resource type="Script" path="res://scripts/actor.gd" id="2_7oo3m"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_edx8f"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_kt1yf"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_e6ars"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_nvgxn"]
enabled_inputs = 2
xfade_time = 0.1
input_0/name = "movement_state"
input_0/auto_advance = false
input_1/name = "attack_state"
input_1/auto_advance = false

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_72xwm"]
animation = &"attack_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_03m34"]
animation = &"idle_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kp0r8"]
animation = &"run_forward_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dsjot"]
animation = &"idle_two_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_74oac"]
animation = &"idle_stand"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_4j6sr"]
blend_point_0/node = SubResource("AnimationNodeAnimation_03m34")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_kp0r8")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_dsjot")
blend_point_2/pos = Vector2(1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_74oac")
blend_point_3/pos = Vector2(0, -1)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_1iw36"]
graph_offset = Vector2(-100.153, -42.2176)
nodes/OneShot/node = SubResource("AnimationNodeOneShot_edx8f")
nodes/OneShot/position = Vector2(180, 200)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_e6ars")
nodes/TimeScale/position = Vector2(-60, 120)
"nodes/TimeScale 2/node" = SubResource("AnimationNodeTimeScale_kt1yf")
"nodes/TimeScale 2/position" = Vector2(-200, 340)
nodes/Transition/node = SubResource("AnimationNodeTransition_nvgxn")
nodes/Transition/position = Vector2(460, 400)
nodes/attack/node = SubResource("AnimationNodeAnimation_72xwm")
nodes/attack/position = Vector2(-500, 280)
nodes/output/position = Vector2(440, 160)
nodes/stance/node = SubResource("AnimationNodeBlendSpace2D_4j6sr")
nodes/stance/position = Vector2(-320, 60)
node_connections = [&"output", 0, &"OneShot", &"OneShot", 0, &"TimeScale", &"OneShot", 1, &"TimeScale 2", &"TimeScale", 0, &"stance", &"TimeScale 2", 0, &"attack"]

[node name="player_character" instance=ExtResource("1_i8eih")]
script = ExtResource("2_7oo3m")

[node name="GeneralSkeleton" parent="player_skeleton" index="0"]
bones/0/position = Vector3(-0.121717, 0.963437, 0.0144237)
bones/0/rotation = Quaternion(-0.181637, -0.288534, -0.0575751, 0.938318)
bones/1/rotation = Quaternion(-0.0614387, -0.117714, -0.0609166, 0.989271)
bones/2/rotation = Quaternion(0.000117127, 0.00377545, 0.00084509, 0.999993)
bones/3/rotation = Quaternion(0, -3.55271e-15, 0, 1)
bones/4/rotation = Quaternion(0.000688446, 0.0752919, 0.033996, 0.996582)
bones/5/rotation = Quaternion(0.124272, 0.318341, 0.0861192, 0.935841)
bones/6/rotation = Quaternion(-7.45058e-09, 2.87548e-14, -4.44089e-16, 1)
bones/8/rotation = Quaternion(0.024905, 0.963578, -0.266055, -0.0106038)
bones/9/rotation = Quaternion(0.12784, -0.464734, 0.0181894, 0.875984)
bones/10/rotation = Quaternion(0.000365411, 0.707001, 0.000141156, 0.707213)
bones/12/rotation = Quaternion(-0.0326658, -0.139238, -0.0200891, 0.989516)
bones/13/rotation = Quaternion(-0.0917388, -0.0595712, 0.068927, 0.991607)
bones/14/rotation = Quaternion(-0.0848082, -0.055768, 0.0644218, 0.992747)
bones/15/rotation = Quaternion(0.0127001, -0.00716927, 0.00583214, 0.999877)
bones/16/rotation = Quaternion(0.00746484, -0.0116903, -0.00799015, 0.999872)
bones/17/rotation = Quaternion(0.15993, -0.163014, -0.151102, 0.961778)
bones/19/rotation = Quaternion(-0.0434234, -0.0276541, 0.0208047, 0.998457)
bones/20/rotation = Quaternion(-0.149028, -0.109572, 0.0831841, 0.979217)
bones/21/rotation = Quaternion(-0.180757, -0.142074, 0.114246, 0.966483)
bones/23/rotation = Quaternion(-0.0905273, -0.0381132, 0.0776974, 0.992127)
bones/24/rotation = Quaternion(-0.185728, -0.0865854, 0.124722, 0.9708)
bones/25/rotation = Quaternion(-0.193371, -0.046977, 0.0733389, 0.977252)
bones/27/rotation = Quaternion(-0.203695, -0.0472651, 0.105155, 0.972223)
bones/28/rotation = Quaternion(-0.238441, -0.0973884, 0.0932465, 0.961752)
bones/29/rotation = Quaternion(-0.387196, -0.156613, 0.153331, 0.895568)
bones/31/rotation = Quaternion(0.198342, 0.954689, -0.0992363, -0.198448)
bones/32/rotation = Quaternion(0.188595, 0.462134, -0.118588, 0.858371)
bones/33/rotation = Quaternion(-0.253079, -0.723858, -0.0506718, 0.639854)
bones/35/rotation = Quaternion(-0.299126, 0.433395, -0.33758, 0.780213)
bones/36/rotation = Quaternion(-0.246619, 0.297553, -0.179055, 0.904754)
bones/37/rotation = Quaternion(-0.299623, 0.462212, -0.352431, 0.756557)
bones/38/rotation = Quaternion(0.0174159, 0.265398, 0.0654236, 0.961759)
bones/39/rotation = Quaternion(0.0318419, 0.0526778, 0.0451349, 0.997083)
bones/40/rotation = Quaternion(0.313594, 0.523129, 0.449668, 0.652529)
bones/42/rotation = Quaternion(-0.485751, 0.393158, -0.348372, 0.698648)
bones/43/rotation = Quaternion(-0.402639, 0.325889, -0.290204, 0.804649)
bones/44/rotation = Quaternion(-0.503551, 0.33397, -0.366241, 0.70765)
bones/46/rotation = Quaternion(-0.555656, 0.334171, -0.283524, 0.706534)
bones/47/rotation = Quaternion(-0.309426, 0.186456, -0.000590326, 0.932464)
bones/48/rotation = Quaternion(-0.563696, 0.455266, -0.39835, 0.562403)
bones/50/rotation = Quaternion(-0.545358, 0.240528, -0.127185, 0.792815)
bones/51/rotation = Quaternion(-0.376782, 0.314481, -0.266703, 0.829461)
bones/52/rotation = Quaternion(-0.603316, 0.0914092, -0.32551, 0.722287)
bones/55/rotation = Quaternion(-0.0814173, -0.451658, 0.864931, 0.203153)
bones/56/rotation = Quaternion(-0.306127, 0.858142, 0.408445, 0.0552439)
bones/57/rotation = Quaternion(0.13831, 0.798644, -0.541371, 0.223507)
bones/58/rotation = Quaternion(8.07509e-11, 1, -5.03262e-10, -2.91077e-11)
bones/59/rotation = Quaternion(0.28529, 0.0124272, 0.131308, 0.949323)
bones/60/rotation = Quaternion(0.914821, -0.0244263, 0.0454571, 0.400549)
bones/61/rotation = Quaternion(0.017136, 0.86516, -0.492401, 0.0935242)
bones/62/rotation = Quaternion(-0.000469091, 0.999996, -0.00288799, 4.22573e-05)
bones/63/position = Vector3(-0.258822, 0.129363, -0.283574)
bones/64/position = Vector3(0.15388, 0.128361, 0.402795)
bones/65/position = Vector3(-0.0376755, 1.36437, -0.848376)
bones/65/rotation = Quaternion(-0.227874, -0.320541, -0.0994002, 0.914028)
bones/66/position = Vector3(0.477826, 1.27069, 0.279217)
bones/66/rotation = Quaternion(-0.227874, -0.320541, -0.0994, 0.914028)
bones/67/position = Vector3(-0.474223, 1.47582, -0.285393)
bones/67/rotation = Quaternion(-0.227874, -0.320541, -0.0994002, 0.914028)
bones/68/position = Vector3(0.213484, 1.4506, 0.28267)
bones/68/rotation = Quaternion(-0.227874, -0.320541, -0.0994002, 0.914028)
bones/69/position = Vector3(-0.200701, 0.682659, -0.746545)
bones/70/position = Vector3(0.264033, 0.682659, -0.139756)

[node name="weapon" type="BoneAttachment3D" parent="." index="1"]
transform = Transform3D(-0.808404, -0.51082, -0.292483, 0.279511, 0.104167, -0.954475, 0.518032, -0.853354, 0.0585708, 0.498221, 1.25934, 0.276929)
bone_name = "hand.R"
bone_idx = 33
use_external_skeleton = true
external_skeleton = NodePath("../player_skeleton/GeneralSkeleton")

[node name="head" type="BoneAttachment3D" parent="." index="2"]
transform = Transform3D(0.995864, 0.0908334, -0.00210252, -0.0886267, 0.976246, 0.197708, 0.0200111, -0.196704, 0.980259, 0.169478, 1.6343, -0.277129)
bone_name = "Head"
bone_idx = 5
use_external_skeleton = true
external_skeleton = NodePath("../player_skeleton/GeneralSkeleton")

[node name="AnimationPlayer" parent="." index="3"]
autoplay = "idle_one_handed"

[node name="AnimationTree" type="AnimationTree" parent="." index="4"]
tree_root = SubResource("AnimationNodeBlendTree_1iw36")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/OneShot/active = false
parameters/TimeScale/scale = 1.0
"parameters/TimeScale 2/scale" = 1.0
parameters/Transition/current = 0
parameters/stance/blend_position = Vector2(0.00366974, 0.0296496)
