[gd_scene load_steps=14 format=3 uid="uid://ra6hg8r8ig2e"]

[ext_resource type="PackedScene" uid="uid://cbivrl5m5dxs3" path="res://models/player_character/player_character.glb" id="1_i8eih"]
[ext_resource type="Script" path="res://scripts/actor.gd" id="2_7oo3m"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_edx8f"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_kt1yf"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_e6ars"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_nvgxn"]
enabled_inputs = 2
xfade_time = 0.1
input_0/name = "movement_state"
input_0/auto_advance = false
input_1/name = "attack_state"
input_1/auto_advance = false

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_72xwm"]
animation = &"attack_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_03m34"]
animation = &"idle_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kp0r8"]
animation = &"run_forward_one_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dsjot"]
animation = &"idle_two_handed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_74oac"]
animation = &"idle_stand"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_4j6sr"]
blend_point_0/node = SubResource("AnimationNodeAnimation_03m34")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_kp0r8")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_dsjot")
blend_point_2/pos = Vector2(1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_74oac")
blend_point_3/pos = Vector2(0, -1)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_1iw36"]
graph_offset = Vector2(-557.9, -23.9871)
nodes/OneShot/node = SubResource("AnimationNodeOneShot_edx8f")
nodes/OneShot/position = Vector2(180, 200)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_e6ars")
nodes/TimeScale/position = Vector2(-60, 120)
"nodes/TimeScale 2/node" = SubResource("AnimationNodeTimeScale_kt1yf")
"nodes/TimeScale 2/position" = Vector2(-200, 340)
nodes/Transition/node = SubResource("AnimationNodeTransition_nvgxn")
nodes/Transition/position = Vector2(460, 400)
nodes/attack/node = SubResource("AnimationNodeAnimation_72xwm")
nodes/attack/position = Vector2(-500, 280)
nodes/output/position = Vector2(440, 160)
nodes/stance/node = SubResource("AnimationNodeBlendSpace2D_4j6sr")
nodes/stance/position = Vector2(-320, 60)
node_connections = [&"output", 0, &"OneShot", &"OneShot", 0, &"TimeScale", &"OneShot", 1, &"TimeScale 2", &"TimeScale", 0, &"stance", &"TimeScale 2", 0, &"attack"]

[node name="player_character" instance=ExtResource("1_i8eih")]
script = ExtResource("2_7oo3m")

[node name="GeneralSkeleton" parent="player_skeleton" index="0"]
bones/0/position = Vector3(-0.125599, 0.984889, 0.0262442)
bones/0/rotation = Quaternion(-0.182915, -0.297385, -0.0581023, 0.935269)
bones/1/rotation = Quaternion(-0.0621323, -0.121302, -0.062708, 0.988683)
bones/2/rotation = Quaternion(-2.16798e-05, -0.000189474, 1.17855e-05, 1)
bones/3/rotation = Quaternion(0, -3.55271e-15, 0, 1)
bones/4/rotation = Quaternion(-0.000398604, 0.0776578, 0.0351652, 0.99636)
bones/5/rotation = Quaternion(0.12531, 0.331134, 0.0901544, 0.93087)
bones/6/rotation = Quaternion(-7.45058e-09, 2.87548e-14, -4.44089e-16, 1)
bones/8/rotation = Quaternion(0.0379706, 0.960155, -0.27606, -0.021232)
bones/9/rotation = Quaternion(0.121976, -0.466352, 0.012364, 0.876062)
bones/10/rotation = Quaternion(0.000237278, 0.707038, 9.16772e-05, 0.707176)
bones/12/rotation = Quaternion(-0.0300153, -0.139645, -0.0233555, 0.989471)
bones/13/rotation = Quaternion(-0.0914765, -0.0589676, 0.0682318, 0.991715)
bones/14/rotation = Quaternion(-0.0844216, -0.0550793, 0.0634539, 0.992881)
bones/15/rotation = Quaternion(0.012254, -0.00525147, 0.00624153, 0.999892)
bones/16/rotation = Quaternion(0.00744911, -0.0111441, -0.0079543, 0.999879)
bones/17/rotation = Quaternion(0.162723, -0.16189, -0.152585, 0.961265)
bones/19/rotation = Quaternion(-0.0411415, -0.0264812, 0.0184761, 0.998631)
bones/20/rotation = Quaternion(-0.149957, -0.110044, 0.082548, 0.979076)
bones/21/rotation = Quaternion(-0.182515, -0.143472, 0.114522, 0.965913)
bones/23/rotation = Quaternion(-0.0860512, -0.036018, 0.0744136, 0.992855)
bones/24/rotation = Quaternion(-0.1882, -0.0872068, 0.126048, 0.970097)
bones/25/rotation = Quaternion(-0.194685, -0.0458715, 0.0719556, 0.977147)
bones/27/rotation = Quaternion(-0.204891, -0.0473369, 0.10552, 0.971928)
bones/28/rotation = Quaternion(-0.242141, -0.0981232, 0.0937539, 0.960703)
bones/29/rotation = Quaternion(-0.393653, -0.158754, 0.153762, 0.892296)
bones/31/rotation = Quaternion(0.20056, 0.95214, -0.107708, -0.203968)
bones/32/rotation = Quaternion(0.185018, 0.465264, -0.112995, 0.858213)
bones/33/rotation = Quaternion(-0.258685, -0.724001, -0.0531125, 0.637247)
bones/35/rotation = Quaternion(-0.293893, 0.432823, -0.336085, 0.783159)
bones/36/rotation = Quaternion(-0.245983, 0.302213, -0.177181, 0.903751)
bones/37/rotation = Quaternion(-0.29163, 0.463075, -0.35682, 0.757095)
bones/38/rotation = Quaternion(0.0178892, 0.268308, 0.0675659, 0.960794)
bones/39/rotation = Quaternion(0.0310639, 0.0517434, 0.0453879, 0.997145)
bones/40/rotation = Quaternion(0.31483, 0.518868, 0.456326, 0.650711)
bones/42/rotation = Quaternion(-0.482327, 0.393614, -0.34891, 0.700493)
bones/43/rotation = Quaternion(-0.402451, 0.328147, -0.291556, 0.803336)
bones/44/rotation = Quaternion(-0.500912, 0.332899, -0.365451, 0.710431)
bones/46/rotation = Quaternion(-0.552781, 0.333291, -0.284856, 0.708666)
bones/47/rotation = Quaternion(-0.307193, 0.188121, 0.00676179, 0.932844)
bones/48/rotation = Quaternion(-0.560712, 0.457567, -0.404756, 0.558934)
bones/50/rotation = Quaternion(-0.542926, 0.243102, -0.128673, 0.793458)
bones/51/rotation = Quaternion(-0.379428, 0.309631, -0.275063, 0.827347)
bones/52/rotation = Quaternion(-0.605875, 0.0858412, -0.317242, 0.724503)
bones/55/rotation = Quaternion(-0.0763877, -0.439954, 0.871491, 0.202755)
bones/56/rotation = Quaternion(-0.294575, 0.877559, 0.373805, 0.0581759)
bones/57/rotation = Quaternion(0.148563, 0.787505, -0.55548, 0.221827)
bones/58/rotation = Quaternion(-4.01944e-14, 1, 0, -4.01944e-14)
bones/59/rotation = Quaternion(0.283379, 0.0103076, 0.125547, 0.950699)
bones/60/rotation = Quaternion(0.927136, -0.0151761, 0.0411691, 0.372147)
bones/61/rotation = Quaternion(0.0283589, 0.857724, -0.505689, 0.0882217)
bones/62/rotation = Quaternion(-1.00486e-14, 1, 2.98023e-08, -5.0243e-14)
bones/63/position = Vector3(-0.264351, 0.12567, -0.289418)
bones/64/position = Vector3(0.155459, 0.125679, 0.402061)
bones/65/position = Vector3(-0.025819, 1.38854, -0.864374)
bones/65/rotation = Quaternion(-0.230713, -0.330583, -0.100989, 0.909554)
bones/66/position = Vector3(0.485083, 1.29282, 0.314978)
bones/66/rotation = Quaternion(-0.230713, -0.330583, -0.100988, 0.909554)
bones/67/position = Vector3(-0.474753, 1.50135, -0.278365)
bones/67/rotation = Quaternion(-0.230713, -0.330583, -0.100989, 0.909554)
bones/68/position = Vector3(0.207696, 1.47371, 0.30333)
bones/68/rotation = Quaternion(-0.230713, -0.330582, -0.100988, 0.909554)
bones/69/position = Vector3(-0.206197, 0.682659, -0.751388)
bones/70/position = Vector3(0.268591, 0.682659, -0.133123)

[node name="weapon" type="BoneAttachment3D" parent="." index="1"]
transform = Transform3D(-0.832394, -0.470083, -0.293499, 0.291326, 0.0793521, -0.953327, 0.471433, -0.879048, 0.0708951, 0.485238, 1.29178, 0.315792)
bone_name = "hand.R"
bone_idx = 33
use_external_skeleton = true
external_skeleton = NodePath("../player_skeleton/GeneralSkeleton")

[node name="AnimationPlayer" parent="." index="2"]
autoplay = "idle_one_handed"

[node name="AnimationTree" type="AnimationTree" parent="." index="3"]
tree_root = SubResource("AnimationNodeBlendTree_1iw36")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/OneShot/active = false
parameters/TimeScale/scale = 1.0
"parameters/TimeScale 2/scale" = 1.0
parameters/Transition/current = 0
parameters/stance/blend_position = Vector2(0.00238287, 0)
